# 👮 Compliance & Technical Constraints (合规与技术红线)
# 作用：定义不可触碰的红线，Skill 自动读取并进行“熔断式”检查。

## 1. Compliance Red Lines (合规红线)
*   **[P0] 用户隐私:** 所有涉及用户 PII (Personally Identifiable Information, e.g., 手机号, 身份证, 邮箱) 的页面，**必须**明确定义脱敏规则 (Masking Rules)。
    *   *Bad:* "显示用户手机号"
    *   *Good:* "显示用户手机号 (中间4位掩码: 139****1234)"
*   **[P0] 跨境数据:** 严禁将中国境内用户数据传输至境外服务器 (除非有明确的跨境合规审批)。
*   **[P0] 营销骚扰:** 短信/Push 通知的触发机制**必须**包含频率限制 (Frequency Capping)。
    *   *Constraint:* 同一用户单日接收营销类 Push 不得超过 2 条。

## 2. Technical Constraints (技术约束)
*   **[P0] 性能指标 (SLA):** 所有核心接口 (C端高频) **必须**定义响应时间上限。
    *   *Constraint:* 99% 的请求响应时间 (TP99) < 500ms。
*   **[P0] 兼容性:** H5 页面**必须**兼容 iOS 12+ 和 Android 8+，以及微信内置浏览器。
*   **[P1] 数据一致性:** 涉及金钱/积分的交易，**必须**明确要求使用事务 (Transactional) 或 最终一致性补偿机制。
*   **[P1] 图片资源:** 所有移动端图片**必须**使用 WebP 格式，且单张大小建议 < 200KB。

## 3. Security Requirements (安全要求)
*   **[P0] 权限控制:** 所有管理后台接口**必须**有 RBAC 权限校验。
*   **[P0] 防刷机制:** 短信验证码接口**必须**包含图形验证码或滑块验证，且限制单IP单日请求次数。
*   **[P0] SQL注入:** 所有输入参数**必须**进行校验，严禁直接拼接 SQL。
